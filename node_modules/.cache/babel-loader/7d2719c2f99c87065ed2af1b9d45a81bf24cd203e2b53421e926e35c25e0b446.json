{"ast":null,"code":"var _jsxFileName = \"/Users/nikolainiklaus/Documents/ec-u3-d3/src/components/CommentsList.jsx\";\nimport React, { Component } from 'react';\nimport SingleComment from './SingleComment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CommentsList extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      comments: [this.props.comments],\n      isLoading: true\n    };\n    this.fetchComments = async () => {\n      try {\n        const response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/${this.props.bookId}`, {\n          headers: {\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2M5NGQ2M2U3MzczODAwMTUzNzQ0MDIiLCJpYXQiOjE2NzUzNDIzNzksImV4cCI6MTY3NjU1MTk3OX0.T9SspPION27bTb5U75j_Ax7maF8wvgAJveRPtqnGsmc'\n          }\n        });\n        const comments = await response.json();\n        this.setState({\n          comments,\n          isLoading: false\n        });\n        console.log(\"sucess\");\n      } catch (error) {\n        console.error(error);\n      }\n    };\n  }\n  componentDidMount() {\n    this.fetchComments();\n  }\n  render() {\n    console.log(\"rla\", this.state.comments[0]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: [this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this) : this.state.comments.map(comment => /*#__PURE__*/_jsxDEV(SingleComment, {\n        comment: comment\n      }, comment._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)), console.log(this.state.comments)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default CommentsList;","map":{"version":3,"names":["React","Component","SingleComment","CommentsList","state","comments","props","isLoading","fetchComments","response","fetch","bookId","headers","Authorization","json","setState","console","log","error","componentDidMount","render","map","comment","_id"],"sources":["/Users/nikolainiklaus/Documents/ec-u3-d3/src/components/CommentsList.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport SingleComment from './SingleComment';\n\nclass CommentsList extends Component {\n  state = {\n    comments: [this.props.comments],\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.fetchComments();\n  }\n\n  fetchComments = async () => {\n    try {\n      const response = await fetch(\n        `https://striveschool-api.herokuapp.com/api/comments/${this.props.bookId}`,\n        {\n          headers: {\n            Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2M5NGQ2M2U3MzczODAwMTUzNzQ0MDIiLCJpYXQiOjE2NzUzNDIzNzksImV4cCI6MTY3NjU1MTk3OX0.T9SspPION27bTb5U75j_Ax7maF8wvgAJveRPtqnGsmc',\n          },\n        }\n      );\n      const comments = await response.json();\n\n      this.setState({ comments, isLoading: false });\n      console.log(\"sucess\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  \n\n  render() {\n    console.log(\"rla\", this.state.comments[0]);\n    return (\n      <div className=\"comments-list\">\n        {this.state.isLoading ? (\n          <p>Loading...</p>\n        ) : (\n          this.state.comments.map((comment) => (\n            <SingleComment key={comment._id} comment={comment} />\n          ))\n        )}\n        {console.log(this.state.comments)}\n      </div>\n    );\n  }\n\n}\n\nexport default CommentsList;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,aAAa,MAAM,iBAAiB;AAAC;AAE5C,MAAMC,YAAY,SAASF,SAAS,CAAC;EAAA;IAAA;IAAA,KACnCG,KAAK,GAAG;MACNC,QAAQ,EAAE,CAAC,IAAI,CAACC,KAAK,CAACD,QAAQ,CAAC;MAC/BE,SAAS,EAAE;IACb,CAAC;IAAA,KAMDC,aAAa,GAAG,YAAY;MAC1B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,uDAAsD,IAAI,CAACJ,KAAK,CAACK,MAAO,EAAC,EAC1E;UACEC,OAAO,EAAE;YACPC,aAAa,EAAE;UACjB;QACF,CAAC,CACF;QACD,MAAMR,QAAQ,GAAG,MAAMI,QAAQ,CAACK,IAAI,EAAE;QAEtC,IAAI,CAACC,QAAQ,CAAC;UAAEV,QAAQ;UAAEE,SAAS,EAAE;QAAM,CAAC,CAAC;QAC7CS,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;EAAA;EArBDC,iBAAiB,GAAG;IAClB,IAAI,CAACX,aAAa,EAAE;EACtB;EAsBAY,MAAM,GAAG;IACPJ,OAAO,CAACC,GAAG,CAAC,KAAK,EAAE,IAAI,CAACb,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1C,oBACE;MAAK,SAAS,EAAC,eAAe;MAAA,WAC3B,IAAI,CAACD,KAAK,CAACG,SAAS,gBACnB;QAAA,UAAG;MAAU;QAAA;QAAA;QAAA;MAAA,QAAI,GAEjB,IAAI,CAACH,KAAK,CAACC,QAAQ,CAACgB,GAAG,CAAEC,OAAO,iBAC9B,QAAC,aAAa;QAAmB,OAAO,EAAEA;MAAQ,GAA9BA,OAAO,CAACC,GAAG;QAAA;QAAA;QAAA;MAAA,QAChC,CACF,EACAP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,KAAK,CAACC,QAAQ,CAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QAC7B;EAEV;AAEF;AAEA,eAAeF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}